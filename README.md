# Queuing-theory

# MMSK 排隊系統模擬與數學分析

此程式用於模擬 M/M/s/K 排隊系統（多伺服器且有限容量的排隊模型），並對排隊系統的主要性能指標進行數學分析。程式計算模擬與理論的關鍵性能指標（KPI），如在隊伍中的平均等待時間、系統中的平均逗留時間及平均顧客數量。

## 功能概述

1. **模擬多伺服器排隊系統**：使用隨機到達和服務時間模擬顧客在系統中的流動，並計算每位顧客的排隊時間和系統時間。
2. **數學分析**：根據 M/M/s/K 模型公式計算理論值，以和模擬結果進行比較。
3. **輸出結果**：將結果輸出為 CSV 文件，便於進一步分析和視覺化。

## 使用方法

1. **輸入參數**：執行程式後，依次輸入以下參數：
   - `mean_interarrival_time`：平均到達間隔時間（即 λ）
   - `mean_service_time`：平均服務時間（即 μ）
   - `total_server`：伺服器數量（即 s）
   - `K`：系統的最大容量
   - `num_custs_required`：請求服務的顧客總數

2. **執行測試案例**：可設置多個測試案例，每個案例都會根據輸入的參數模擬一次排隊過程，並將結果輸出至 `output_MMSK.csv` 文件中。

3. **輸出結果**：模擬與理論分析結果會輸出至 `output_MMSK.csv`，包括：
   - `Wq-sim` 和 `W-sim`：模擬的隊列等待時間與系統逗留時間
   - `Lq-sim` 和 `L-sim`：模擬的平均排隊長度與系統平均顧客數
   - `Wq-math` 和 `W-math`：數學分析的隊列等待時間與系統逗留時間
   - `Lq-math` 和 `L-math`：數學分析的平均排隊長度與系統平均顧客數

## 程式架構

- **`lcg(int mu)`**：線性同餘生成器，用於生成隨機數以模擬隨機到達與服務時間。
- **`expon(int mu)`**：使用指數分布模擬隨機到達時間與服務時間。
- **`arrival`**：模擬顧客到達事件，並計算更新隊列與系統的狀態。
- **`departure`**：模擬顧客離開事件，並更新伺服器狀態。
- **`math_analysis`**：使用 M/M/s/K 模型公式，根據輸入參數進行理論計算，並將結果寫入文件。

## 注意事項

- **dependency**：依賴standard C library，並使用隨機數生成器 `lcg()` 來模擬隨機事件。
- **結果準確性**：由於隨機數的使用，每次模擬結果可能略有不同，但理論計算應該是一致的。
- **輸出文件格式**：請確保 `output_MMSK.csv` 的文件權限允許程式寫入數據。

## 範例輸入

```
輸入測試案例數：2
輸入 mean_interarrival_time：5
輸入 mean_service_time：3
輸入 total_server：3
輸入 K：10
輸入 num_custs_required：50
```

## 輸出

模擬與數學分析結果將儲存在 `output_MMSK.csv` 中，便於進行後續分析和可視化。

--- 

此 README 提供了程式的簡要介紹和使用說明，適合用於理解程式的基本功能和運行方式。
